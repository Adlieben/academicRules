% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/explain_classification.R
\name{explain_classification}
\alias{explain_classification}
\title{Explain how each row (student) was classified according to the rules}
\usage{
explain_classification(data, ruleset, outcome_col_name = "OUTCOME")
}
\arguments{
\item{data}{A data frame or tibble that has already been classified (i.e.,
it has a column with final outcomes).}

\item{ruleset}{An object of class "academic_ruleset".}

\item{outcome_col_name}{Character. The name of the classification column in \code{data}.}
}
\value{
A list (or data frame) detailing which rules were triggered for each row.
}
\description{
Shows whether each rule was triggered or not, and how the final classification
was reached.
}
\examples{
# Using the previous example:
df <- data.frame(
  student_id = 1:5,
  total_score = c(26, 23, 30, 10, 29),
  fail_count = c(0, 1, 2, 3, 1),
  essay_grade = c(3, 2, 1, 0, 4)
)
my_rules <- define_rule_set(
  list(
    "fail_too_many" = list(type = "threshold", value = 2, dimension = "fail_count"),
    "min_total" = list(type = "threshold", value = 24, dimension = "total_score"),
    "pass_essay" = list(type = "logical", expr = ~ essay_grade >= 2)
  ),
  default_outcome = "PASS"
)

df_classified <- apply_rules(df, my_rules, outcome_col_name = "OUTCOME")
explain_classification(df_classified, my_rules, "OUTCOME")
}
